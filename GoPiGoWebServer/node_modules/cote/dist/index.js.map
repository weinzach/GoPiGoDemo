{"version":3,"sources":["../index.js"],"names":["Discovery","require","Requester","Responder","Publisher","Subscriber","Sockend","Monitor","TimeBalancedRequester","PendingBalancedRequester","_","cote","options","defaults","environment","useHostNames","broadcast","multicast","environmentSettings","process","env","COTE_ENV","COTE_USE_HOST_NAMES","COTE_BROADCAST_ADDRESS","COTE_MULTICAST_ADDRESS","components","forEach","component","setEnvironment","setUseHostNames","setDefaults","module","exports"],"mappings":";;AAAA,IAAIA,YAAYC,QAAQ,iBAAR,CAAhB;AAAA,IACIC,YAAYD,QAAQ,oBAAR,CADhB;AAAA,IAEIE,YAAYF,QAAQ,oBAAR,CAFhB;AAAA,IAGIG,YAAYH,QAAQ,oBAAR,CAHhB;AAAA,IAIII,aAAaJ,QAAQ,qBAAR,CAJjB;AAAA,IAKIK,UAAUL,QAAQ,kBAAR,CALd;AAAA,IAMIM,UAAUN,QAAQ,kBAAR,CANd;AAAA,IAOIO,wBAAwBP,QAAQ,gCAAR,CAP5B;AAAA,IAQIQ,2BAA2BR,QAAQ,mCAAR,CAR/B;;AAUA,IAAIS,IAAIT,QAAQ,QAAR,CAAR;;AAEA,SAASU,IAAT,CAAcC,OAAd,EAAuB;AACnBA,cAAUA,WAAW,EAArB;;AAEA,QAAIC,WAAW;AACXC,qBAAa,EADF;AAEXC,sBAAc,KAFH;AAGXC,mBAAW,IAHA;AAIXC,mBAAW;AAJA,KAAf;;AAOA,QAAIC,sBAAsB;AACtBJ,qBAAaK,QAAQC,GAAR,CAAYC,QADH;AAEtBN,sBAAc,CAAC,CAACI,QAAQC,GAAR,CAAYE,mBAFN;AAGtBN,mBAAWG,QAAQC,GAAR,CAAYG,sBAHD;AAItBN,mBAAWE,QAAQC,GAAR,CAAYI;AAJD,KAA1B;;AAOAd,MAAEG,QAAF,CAAWD,OAAX,EAAoBM,mBAApB,EAAyCL,QAAzC;;AAEA,QAAIY,aAAa,CAACvB,SAAD,EAAYC,SAAZ,EAAuBC,SAAvB,EAAkCC,UAAlC,EAA8CC,OAA9C,EAAuDE,qBAAvD,EACbC,wBADa,CAAjB;;AAGAgB,eAAWC,OAAX,CAAmB,UAASC,SAAT,EAAoB;AACnCA,kBAAUC,cAAV,CAAyBhB,QAAQE,WAAjC;AACAa,kBAAUE,eAAV,IAA6BF,UAAUE,eAAV,CAA0BjB,QAAQG,YAAlC,CAA7B;AACH,KAHD;;AAKAf,cAAU8B,WAAV,CAAsBlB,OAAtB;;AAEA,WAAOD,IAAP;AACH;;AAEDA,KAAKT,SAAL,GAAiBA,SAAjB;AACAS,KAAKR,SAAL,GAAiBA,SAAjB;AACAQ,KAAKP,SAAL,GAAiBA,SAAjB;AACAO,KAAKN,UAAL,GAAkBA,UAAlB;AACAM,KAAKL,OAAL,GAAeA,OAAf;AACAK,KAAKJ,OAAL,GAAeA,OAAf;AACAI,KAAKH,qBAAL,GAA6BA,qBAA7B;AACAG,KAAKF,wBAAL,GAAgCA,wBAAhC;;AAEAsB,OAAOC,OAAP,GAAiBrB,MAAjB","file":"index.js","sourcesContent":["var Discovery = require('./lib/Discovery'),\n    Requester = require('./lib/Requester.js'),\n    Responder = require('./lib/Responder.js'),\n    Publisher = require('./lib/Publisher.js'),\n    Subscriber = require('./lib/Subscriber.js'),\n    Sockend = require('./lib/Sockend.js'),\n    Monitor = require('./lib/Monitor.js'),\n    TimeBalancedRequester = require('./lib/TimeBalancedRequester.js'),\n    PendingBalancedRequester = require('./lib/PendingBalancedRequester.js');\n\nvar _ = require('lodash');\n\nfunction cote(options) {\n    options = options || {};\n\n    var defaults = {\n        environment: '',\n        useHostNames: false,\n        broadcast: null,\n        multicast: null\n    };\n\n    var environmentSettings = {\n        environment: process.env.COTE_ENV,\n        useHostNames: !!process.env.COTE_USE_HOST_NAMES,\n        broadcast: process.env.COTE_BROADCAST_ADDRESS,\n        multicast: process.env.COTE_MULTICAST_ADDRESS\n    };\n\n    _.defaults(options, environmentSettings, defaults);\n\n    var components = [Requester, Responder, Publisher, Subscriber, Sockend, TimeBalancedRequester,\n        PendingBalancedRequester];\n\n    components.forEach(function(component) {\n        component.setEnvironment(options.environment);\n        component.setUseHostNames && component.setUseHostNames(options.useHostNames);\n    });\n\n    Discovery.setDefaults(options);\n\n    return cote;\n}\n\ncote.Requester = Requester;\ncote.Responder = Responder;\ncote.Publisher = Publisher;\ncote.Subscriber = Subscriber;\ncote.Sockend = Sockend;\ncote.Monitor = Monitor;\ncote.TimeBalancedRequester = TimeBalancedRequester;\ncote.PendingBalancedRequester = PendingBalancedRequester;\n\nmodule.exports = cote();\n"]}